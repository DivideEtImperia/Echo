<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>Custom Databases</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <!-- <link rel="stylesheet" href="assets/plugins/prism/prism.css"> -->
    <link rel="stylesheet" href="assets/css/prism-light.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.min.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/style.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
</head> 

<body class="body-green">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <span aria-hidden="true" class="icon_documents_alt icon"></span>
                            <span class="text-highlight">A.R.S</span><span class="text-bold">Docs</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li><a href="index.html">Home</a></li>
                    <li class="active">Custom Databases</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><span aria-hidden="true" class="icon icon_puzzle_alt"></span> Custom Databases</h1>
                    <div class="meta"><i class="fa fa-clock-o"></i> Last updated: Mar 11th, 2017</div>
                </div><!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="dashboards" class="doc-section">
                                <h2 class="section-title">Introductions</h2>
                                <div class="section-block">
                                    <p>Custom databases can be used to create your own games, keep track of scores. Give people cash and allow them to win stuff, or perhaps a warning system before kicking someone, and many more possibilities.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            


                            <section id="db-create" class="doc-section">
                                <h2 class="section-title">Create Database</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        Creates a blank database!
                                        <pre><code class="language-cplx">.create -db dbname</code></pre></div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="db-view" class="doc-section">
                                <h2 class="section-title">View Database</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        <pre><code class="language-cplx">.view -db dbname</code></pre></div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="db-wipe" class="doc-section">
                                <h2 class="section-title">Wipe Database</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        Resets a database as if you just created it!
                                        <pre><code class="language-cplx">.wipe -db dbname</code></pre></div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="db-delete" class="doc-section">
                                <h2 class="section-title">Delete Database</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        <pre><code class="language-cplx">.delete -db dbname</code></pre></div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="db-list" class="doc-section">
                                <h2 class="section-title">List Databases</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        <pre><code class="language-cplx">.viewdbs</code></pre></div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="ars-create" class="doc-section">
                                <h2 class="section-title">Create Variable</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
<pre><code class="language-cplx">
.auto .make={init}
{m?dbname:varname} := value
</code></pre>
                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>


                            <section id="ars-edit" class="doc-section">
                                <h2 class="section-title">Edit Variable</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        Assuming your variable has a value that is an integer (number)
                                        Let's increment it by 1
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(++)}You have been warned!
</code></pre>
Now let's get a little harder as we go down. let's add a custom number.
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(+32)}You have earned 32 points
</code></pre>
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(-32)}You have lost 32 points
</code></pre>
Alright that's neat, but let's step it up. It can get wild.
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(+{rand:1,50})}You have gained `{rand:1,50}` points.
</code></pre>
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(-{rand:1,50})}You have lost `{rand:1,50}` points.
</code></pre>
Neat? That's not all though we can take it a step further with maths!
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(+{math:{rand:1,5}*10})}You have gained `{math:{rand:1,5}*10}` points.
</code></pre>
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(-{math:{rand:1,5}*10})}You have lost `{math:{rand:1,5}*10}` points.
</code></pre>
<h3>Appending value</h3>
Appends text to the end of value (<font color="red">Known to be buggy</font>)
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(.=Hello!)}
</code></pre>
<h3>Delete from value</h3>
Deletes text from value (<font color="red">Known to be buggy</font>)
<pre><code class="language-cplx">
.auto .test={init}
{e?dbname:varname(text...)} /* Leave the ... at the end as it's required */
</code></pre>


                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>


                            <section id="ars-delete" class="doc-section">
                                <h2 class="section-title">Delete Variable</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
<pre><code class="language-cplx">
.auto .remove={init}
{d?dbname:varname} /* Deletes varname from dbname */
</code></pre>
                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>

                            <section id="ars-use" class="doc-section">
                                <h2 class="section-title">Using Variable</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
                                        Here's an Example using D.S.S
                                        In this example we will use Discord IDs as the variables.<br>
                                        And we're work on a warning system that kicks after 3 warns.
<pre><code class="language-cplx">
.auto .tst={init}
/* Check if variable exists in database */
DB:dbname.{rawid}?:{ars:tst2}
Response.nil?:You have been added to the database.{m?dbname:{rawid}}:=0
</code></pre>
Now lets create the second rule we're linking to.
<pre><code class="language-cplx">
.auto tst2={init}
{arslock} /* lock rule to A.R.S Linking only */
/* Check the count of varname */
/* If the user has been warned 3 times kick them */
/* And remove them from the database/ */
Count.{r?dbname:{rawid}} >= 3?:{kick}{d?dbname:{rawid}} /* Final warning kick the user */
Response.nil?:{e?dbname:{rawid}(++)}A Warning has been added!
</code></pre>
<br>
                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>


                            <section id="ars-examples" class="doc-section">
                                <h2 class="section-title">Some Examples</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
<h3>Verify System</h3>
<p>Will force new members to verify in your general channel a 4 digit number before x time.<br>
If they don't verify in time Echo will kick them from your server.<br>
<b>REQUIREMENTS:</b><br>
<code>
Create Role: Member<br>
Create Role: Unverified<br>
Create Database: verify<br>
Total of 3 Rules total
</code>
<br>
<h5>First Rule:</h5>
<pre><code class="language-cplx">.auto jnverify={init}
{Event:Join}
{pm}Welcome {/user} you are required to type a captcha in the next 3 minutes.
In our general channel please type `.verify {rand:1000,9999}`. If you don't you will be kicked from the server.
{m?verify:{rawid}} := {rand:1000,9999}
{ars:verSniffer}
</code></pre>
<h5>Second Rule:</h5>
<pre><code class="language-cplx">.auto verSniffer={init}
{arslock}
{sleep:3m}
DB:verify.{rawid}?:{/user} you failed to type the captcha Goodbye! {kick}
Response.nil?:A Final PM Message goes here (Usually a website or information about your server) {take:Unverified}
</code></pre>
<h5>Final Rule:</h5>
<p>The main .verify command. Make sure to change the 2 minutes to whatever you have set for the sleep in the Second rule.</p>
<pre><code class="language-cplx">.auto &.verify {params}={init}
Params.{r?verify:{rawid}}?:Thank you for verifying with `eCAPTCHA` Please wait while we transfer you from `Unverified` to `Member`. This could take up to 2 minutes.. {d?verify:{rawid}}{role:Member}
Response.nil?:Verification code is incorrect. Please try again.
</code></pre>
                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>


                            <section id="ars-resp" class="doc-section">
                                <h2 class="section-title">SysResponses</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
<h3>Custom Responses</h3>
<p>Since the closing of our Web manager we've needed another way for custom responses.<br>
This system works using a custom database named <b>SysResponses</b> the code is below.<br>
Save the JSON to a file named <b>SysResponses.edb</b> and than drag the file to your server.<br>
If everything worked, Echo will notify you of the installation of your new database.<br>
And all of Echos preset responses will be updated to what you choose!<br>

<b>SysResponses.edb</b><br>
<pre><code class="language-cplx">{
   "NoRole":         "I couldn't find the role `{data}` Check your spelling.",
   "AddMaster":      "I have added {user} as a Bot Commander.",
   "DelMaster":      "I have removed {user} from Bot Commander.",
   "Prefix":         "I have changed the Prefix to {data}",
   "GreetMsg":       "I have changed the Greeting to `{data}`",
   "GreetOff":       "I have turned the Greet Message `off`",
   "ByeMsg":         "I have changed the Bye to `{data}`",
   "ByeOff":         "I have turned the Bye Message `off`",
   "Autorole":       "New people will get the role `{data}`",
   "AutoroleOff":    "Autorole => `Disabled`",
   "SetPunish":      "I have changed the punishment of Antilinks and Warning system to `{data}`",
   "SetPunishError": "You need to pick a proper punishment: ban/kick/warn",
   "Give":           "I have given {user} the role `{data}` Bitches!",
   "Take":           "I have taken the role `{data}` from {user}",
   "IPError":        "`Error:` Not a valid IP or Domain name.",
   "NoRolePerms":    "I wasn't able to pull the roles from your server. Check my permissions!",
   "RoleNoExist":    "This role doesn't Exist.",
   "DenyLinks":      "Links are no longer allowed on this server",
   "AllowLinks":     "Links are now allowed on this server.",
   "AntiLinkKick":   "I have kicked {user} for advertising.",
   "AntiLinkBan":    "I have banned {user} for advertising.",
   "AntiLinkWarn":   "{user} Advertising is not allowed on this server!",
   "Kick":           "I have kicked {user} from the server.",
   "Ban":            "I have banned {user} from the server."
}
</code></pre>
<br>
Or you could edit your responses by creating a command.<br>
<pre><code class="language-cplx">.auto &.response {params}={init}
{split: - }
Response Edited!
{m?SysResponses:{/p0}} := {/p1}
</code></pre>
<i>Use the above command like:</i><br>
<pre><code class="language-cplx">.response Give - {user} now has the role `{data}`</code></pre>
<pre><code class="language-cplx">.response AntiLinkKick - {user} has been kicked for advertising.</code></pre>

                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>



                            <section id="ars-sys" class="doc-section">
                                <h2 class="section-title">SysARS</h2>
                                <div id="skl" class="section-block">
                                    <div class="section-block">
                                        <div class="answer">
<h3>Disabling ARS Rules</h3>
<p>This database was designed to temporarily disable your A.R.S Rules.<br>
This system works using a custom database named <b>SysARS</b> the code is below.<br>
<br>
By adding the trigger name to the database with the value of <u>false</u> your rule will no longer work.<br>
You will need to remove the variable inside of the database in order for the A.R.S Rule to work again.<br>
<b>SysARS.edb</b><br>
<pre><code class="language-cplx">{
   ".helloworld":   "false"
}
</code></pre>
                                        </div>
                                    </div><!--//section-block-->
                                </div>
                            </section>


                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar">
                        <nav id="doc-nav">
                            <ul id="doc-menu" class="nav doc-menu hidden-xs" data-spy="affix">
                                <li><a class="scrollto" href="#dashboards">Introduction</a></li>
                                <li>
                                    <a class="scrollto" href="#app-system">The Commands</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#db-create">Creating Database</a></li>
                                        <li><a class="scrollto" href="#db-view">Viewing Database</a></li>
                                        <li><a class="scrollto" href="#db-wipe">Wipe Database</a></li>
                                        <li><a class="scrollto" href="#db-delete">Delete Database</a></li>
                                        <li><a class="scrollto" href="#db-list">List Databases</a></li>
                                    </ul><!--//nav-->
                                </li>
                                <li>
                                    <a class="scrollto" href="#app-events">A.R.S Keys</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#ars-create">Create Variable</a></li>
                                        <li><a class="scrollto" href="#ars-edit">Edit Variable</a></li>
                                        <li><a class="scrollto" href="#ars-delete">Delete Variable</a></li>
                                        <li><a class="scrollto" href="#ars-use">Using Variables</a></li>
                                    </ul><!--//nav-->
                                </li>
                                <li>
                                    <a class="scrollto" href="#ars-examples">Pre-Defined</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#ars-resp">SysResponses.edb</a></li>
                                        <li><a class="scrollto" href="#ars-sys">SysARS.edb</a></li>
                                    </ul><!--//nav-->
                                </li>
                            </ul><!--//doc-menu-->
                        </nav>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->              
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    
    <footer class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
            <small class="copyright">Layout Designed by <a href="http://themes.3rdwavemedia.com/" targe="_blank">Xiaoying Riley</a></small>
            
        </div><!--//container-->
    </footer><!--//footer-->
    
     
    <!-- Main Javascript -->          
    <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>    
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>  
    <script type="text/javascript" src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script>                                                                 
    <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
    
</body>
</html> 