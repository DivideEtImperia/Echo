<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>Functions</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    <!-- <link rel="stylesheet" href="assets/plugins/prism/prism.css"> -->
    <link rel="stylesheet" href="assets/css/prism-light.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.min.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/style.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
</head> 

<body class="body-blue">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <span aria-hidden="true" class="icon_documents_alt icon"></span>
                            <span class="text-highlight">A.R.S</span><span class="text-bold">Docs</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li><a href="index.html">Home</a></li>
                    <li class="active">Functions</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><span aria-hidden="true" class="icon icon_datareport_alt"></span> Functions</h1>
                    <div class="meta"><i class="fa fa-clock-o"></i> Last updated: Mar 09th, 2017</div>
                </div><!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="dashboards" class="doc-section">
                                <h2 class="section-title">Introductions</h2>
                                <div class="section-block">
                                    <p>Functions was the first step to a completely dynamic storage system in attempts to simplify bigger A.R.S Rules with specific changes.</p>
                                    Local functions can be created on your server to help minify long A.R.S Rules that you use repeatedly with small changes.
                                    <br>
                                    <h3>Purpose of Functions</h3>
                                    There are a lot of keys out there that can get huge, and people (including myself)<br>
                                    Get tired of having to re-write the same big rule and only make one or two changes to it<br>
                                    For example say you want to have a bunch of secure commands, but all for different channels.<br>

                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            
                            <section id="app-components" class="doc-section">
                                <h2 class="section-title">Local Functions</h2>
                                <div id="dkl" class="section-block">
                                <h3>Creating your Function.</h3>

Let's start you off with a simple one, this function has no parameters.<br>
<pre><code class="language-css">.define func HelloUser():Hello {/user}!!</code></pre>
<br>
Looks easy enough right? Now when you type that it will be stored in your guilds `Defines` object.  
Allowing you to easily access that function in your server with any A.R.S Rule.  
Let's give you an example how to use the function in our A.R.S.  
<pre><code class="language-css">.auto .hello={init}
call::HelloUser();
</code></pre>
Now when you type <b>.hello</b> you will get your <i>pre-defined</i> function's response.
<br>
<h5> More Advanced Example</h5>
The function below has two parameters. And will redirect their message to a channel.
<pre><code class="language-css">.define func HelloUser(ChannelID, Message):{redirect:{0}}{1}</code></pre>

Alright now before we teach you how to use this function in your A.R.S Rules let's explain..  
What we're doing here is creating a function with Two parameters. And than defining those parameters  
using the <pre><code class="language-css">{0}</code></pre> for ChannelID and <pre><code class="language-css">{1}</code></pre> for Message.
<br><br>
When you think about it, it's pretty simple. You can have an unlimited amount of parameters in your function  
<b>However</b> You need to define those parameters with a <b><u>{num}</u></b> counterpart.  
Meaning.
<br>
If you have a function with 4 paramters <b>HelloUser(Param1, Params2, Params3, Params4)</b><br>
you will need to define them in the functions response as such <pre><code class="language-css">{0}=Param1, {1}=Params2, {2}=Params3, {3}=Params4</code></pre>
<br>
<h3 id="func-use" class="doc-section">Using the Function</h3> 
Technically there are a few different ways to do this, let's try to cover them!  
This one will post a <b>pre-defined</b> message to a channel the user types with the command.  
<pre><code class="language-css">.auto &.hello {params}={init}
call::HelloUser({params}, This message is pre-defined);</code></pre>
<br>
Ok, now if the user types
<pre><code class="language-css">.hello CHANNELID-HERE</code></pre>
the predfined message will be sent to the channel id they type.<br>
Now let's switch it up, do the opposite!<br>
<pre><code class="language-css">.auto &.hello {params}={init}
call::HelloUser(1268555466456789, {params});</code></pre>
<br>
Ok now when someone types
<pre><code class="language-css">.hello What is up guys!</code></pre>
Their message will be redirected to the channel: <b>1268555466456789</b>
And since the <b>{redirect}</b> key requires the channel id. We need to make sure to place the channel ID not the name.
<br>
<h3 id="func-delete" class="doc-section">Deleting Functions</h3>
Ok lets pretend we are deleting the <b>HelloUser</b> function we created above.<br>
<pre><code class="language-css">.delfunc HelloUser</code></pre>
Pretty easy right? Now the <b>HelloUser</b> function is no longer available to use.<Br>
Make sure you remove any A.R.S Rules calling the function.
<br>
<h3 id="func-list" class="doc-section">Listing Functions</h3>
Currently it's not pretty to list functions and it's limited which we will attempt to fix soon.<br>
Until than if your functions get too big Echo will not display due to discords <b>2000</b> character limit.<br>
<pre><code class="language-css">.deflist</code></pre>
<br>
<h3 id="func-wipe" class="doc-section">Wiping Functions</h3>
This will wipe your entire functions database. Make sure you remove any call to the functions in your rules<br>
<pre><code class="language-css">.wipedefs</code></pre>

                                </div><!--//section-block-->
                            </section><!--//doc-section-->

                            <section id="func-remote" class="doc-section">
                                <h2 class="section-title">Remote Functions</h2>
                                <div id="ckl" class="section-block">
                                Remote Functions are hosted on your Github page or the main Github for Repos<br>
                                if you are wanting to get into <code>system/messages</code> package which is available to everyone.
                                <br>
                                We will need to follow a few steps, and make sure you remember. Security!<br>
                                You don't want to offer someone a module that has {role:} Where it's open to all.<br>
                                Make sure you add a {req} or {exc} key to any moderation commands!
                                <br>
                                <h3 id="func-structure" class="doc-section">Package Structure</h3>
                                <pre><code class="language-css">{
"Defines": [
  {
     "Name": "UserMessageSend",
     "Params": [
        "UserID",
        "Message"
     ],
     "Content": "{pm:{0}}{1}"
  }
}
}</code></pre>
Alright now what you're looking at above is a function to send a custom user a custom message.
Make sure you have read up on the Github Main README.md if you don't understand the {0},{1}
<br>
Multiple defined functions in a page below:
                                <pre><code class="language-css">{
"Defines": [
  {
     "Name": "UserMessageSend",
     "Params": [
        "UserID",
        "Message"
     ],
     "Content": "{pm:{0}}{1}"
  },
  {
     "Name": "ActiveMessageSend",
     "Params": [
        "Message"
     ],
     "Content": "{pm}{0}"
  }
}</code></pre>
Now your package will include the UserMessageSend & ActiveMessageSend. What's the difference?
UserMessageSend will direct message a defined user. or you can set it up to pm multiple.
ActiveMessageSend will message the user who triggers the function. Or whoever is mentioned in the trigger.
<h3 id="imp-syntax" class="doc-section">Check your Syntax</h3>
Checking your package syntax is very important! Otherwise Echo will ignore the import.<br>
We recommend one of these:<br>
<a href="http://jsonlint.com/" target="_new">http://jsonlint.com/</a>
<a href="https://jsonformatter.curiousconcept.com/" target="_new">https://jsonformatter.curiousconcept.com/</a>
<br>

<h3 id="imp-naming" class="doc-section">Naming your Package</h3>
Make sure to keep your package name simple so you can remember!<br>
Your package name won't conflict with others because of the github account prefix in the import.<br>
So you can make your own <b>messages.json</b> package and run it alongside the <b>system/messages</b> package.
<br>
<h3 id="imp-upload" class="doc-section">Uploading to Github</h3>
Echo will use github api to connect to and execute your functions.<br>
An example would be <code>proxikal/EchoRepository/packagename</code>
<br>
<h6>don't add the .json</h6>
this means that I (proxikal) have a repository on github named (EchoRepository)<br>
And in the main repo directory i have the file (packagename).json!<br>
Again remember to leave the <b>.json</b> out when importing the file.

<h3 id="imp-func" class="doc-section">Import Packages</h3>
<pre><code class="language-css">.auto &.giveme {params}={init}
import "githubaccount/reponame/packagefile"
call::GiveMeRole(Admin, {params});</code></pre>
Ok now we are using the <b>GiveMeRole</b> example in the <a href="https://github.com/proxikal/EchoRepository/wiki/Secure-Commands!" target="_new">Secure Commands Example.</a><br>
What we're having echo do here is. <u>IF</u> the user has the role <u>Admin</u> they can type
.giveme Role Name and echo will give them that role As long as his role is above theirs

                                </div>
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar">
                        <nav id="doc-nav">
                            <ul id="doc-menu" class="nav doc-menu hidden-xs" data-spy="affix">
                                <li><a class="scrollto" href="#dashboards">Introduction</a></li>
                                <li>
                                    <a class="scrollto" href="#app-components">Local Functions</a>
                                    <ul class="nav doc-sub-menu">
                                        <li><a class="scrollto" href="#app-components">Creating Functions</a></li>
                                        <li><a class="scrollto" href="#func-use">Using Functions</a></li>
                                        <li><a class="scrollto" href="#func-delete">Delete Functions</a></li>
                                        <li><a class="scrollto" href="#func-list">Listing Functions</a></li>
                                        <li><a class="scrollto" href="#func-wipe">Wiping All Functions</a></li>
                                    </ul><!--//nav-->
                                </li>
                                <li>
                                    <a class="scrollto" href="#func-remote">Remote Packages</a>
                                    <ul class="nav doc-sub-menu">
                                    <li><a class="scrollto" href="#func-structure">Package Structure</a></li>
                                    <li><a class="scrollto" href="#imp-syntax">Check your Syntax</a></li>
                                    <li><a class="scrollto" href="#imp-naming">Naming your Package</a></li>
                                    <li><a class="scrollto" href="#imp-upload">Uploading to Github</a></li>
                                    <li><a class="scrollto" href="#imp-func">Import Packages</a></li>
                                    </ul>
                                </li>
                            </ul><!--//doc-menu-->
                        </nav>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->              
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    
    <footer class="footer text-center">
        <div class="container">
            <small class="copyright">Layout Designed by <a href="http://themes.3rdwavemedia.com/" targe="_blank">Xiaoying Riley</a></small>
            
        </div><!--//container-->
    </footer><!--//footer-->
    
     
    <!-- Main Javascript -->          
    <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
     <script type="text/javascript" src="assets/plugins/prism.js"></script>    
    <script src="http://cdn.jsdelivr.net/npm/jquery.scrollto@2.1.2/jquery.scrollTo.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.matchHeight/0.7.2/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
      <!-- Start of StatCounter Code for Default Guide -->
      <script type="text/javascript">
      var sc_project=11147929; 
      var sc_invisible=1; 
      var sc_security="2cb37e82"; 
      var scJsHost = (("https:" == document.location.protocol) ?
      "https://secure." : "http://www.");
      document.write("<sc"+"ript type='text/javascript' src='" +
      scJsHost+
      "statcounter.com/counter/counter.js'></"+"script>");
      </script>
      <noscript><div class="statcounter"><a title="free web stats"
      href="https://statcounter.com/free-web-stats/"
      target="_blank"><img class="statcounter"
      src="//c.statcounter.com/11147929/0/2cb37e82/1/" alt="free
      web stats"></a></div></noscript>
      <!-- End of StatCounter Code for Default Guide -->
</body>
</html> 
